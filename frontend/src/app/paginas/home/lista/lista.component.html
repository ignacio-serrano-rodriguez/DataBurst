<div *ngIf="!mostrarAgregadorComponent">
  <button mat-icon-button (click)="volver()">
    <mat-icon>arrow_back</mat-icon>
  </button>

  <h2>Detalles de la Lista</h2>
  <div *ngIf="lista">
    <p *ngIf="!editandoNombre">Nombre: {{ lista.nombre }} <button mat-icon-button (click)="editarNombre()"><mat-icon>edit</mat-icon></button></p>
    <div *ngIf="editandoNombre">
      <input [(ngModel)]="nuevoNombreLista" placeholder="Nuevo nombre de la lista">
      <button mat-button color="primary" (click)="guardarNombre()">Guardar</button>
      <button mat-button color="warn" (click)="cancelarEdicion()">Cancelar</button>
    </div>
    <p>Visibilidad: {{ lista.publica ? 'PÃºblica' : 'Privada' }} <button mat-icon-button (click)="cambiarVisibilidad()"><mat-icon>swap_horiz</mat-icon></button></p>
  </div>

  <h3>Elementos Asignados</h3>
  <ul>
    <li *ngFor="let elemento of elementos">
      {{ elemento.nombre }}
    </li>
  </ul>

  <button mat-flat-button color="primary" (click)="mostrarAgregador()">
    Agregador de Elementos
  </button>

  <button mat-flat-button color="warn" (click)="eliminarLista()">
    Eliminar Lista
  </button>

  <h3>Invitar Amigos</h3>
  <ul>
    <li *ngFor="let amigo of amigos">
      {{ amigo.nombre }}
      <button mat-button color="primary" (click)="invitarAmigo(amigo.id)">
        Invitar
      </button>
    </li>
  </ul>
</div>

<div *ngIf="mostrarAgregadorComponent">
  <app-agregador 
    [nombreLista]="lista?.nombre" 
    [listaId]="lista?.id" 
    (volverALista)="ocultarAgregador()">
  </app-agregador>
</div>